library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../dfPerson.csv")
write_excel_csv(dfHousehold, "../dfHousehold.csv")
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#driver == 1, no == 0
dfPerson$driver[dfPerson$driver == 2] <- 0
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#driver == 1, no == 0
dfPerson$driver[dfPerson$driver == 2] <- 0
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
#fix ages
dfPerson$r_age[dfPerson$r_age < 0] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#driver == 1, no == 0
dfPerson$driver[dfPerson$driver == 2] <- 0
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
#fix ages and worker
dfPerson$r_age[dfPerson$r_age < 0] <- NA
dfPerson$worker[dfPerson$worker < 0] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#driver == 1, no == 0
dfPerson$driver[dfPerson$driver == 2] <- 0
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
#fix sub-zeros
dfPerson$r_age[dfPerson$r_age < 0] <- NA
dfPerson$worker[dfPerson$worker < 0] <- NA
dfPerson$educ[dfPerson$educ < 0] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
library(tidyverse)
library(readxl)
dfPerson <- read_xlsx("../Final Project/persontrips.xlsx")
dfHousehold <- read_xlsx("../Final Project/Hhldtrips.xlsx")
dfPerson
dfHousehold
#remove -1
dfPerson$driver[dfPerson$driver == -1] <- NA
dfPerson$educ[dfPerson$educ == -1 | dfPerson$driver == -7] <- NA
#driver == 1, no == 0
dfPerson$driver[dfPerson$driver == 2] <- 0
#worker == 1, not worker == 0
dfPerson$worker[dfPerson$worker == 2] <- 0
#male == 1, female == 0
dfPerson$r_sex[dfPerson$r_sex == 2] <- 0
#homeown == 1, rent == 0
dfPerson$homeown[dfPerson$homeown == 2] <- 0
dfHousehold$homeown[dfHousehold$homeown == 2] <- 0
#remove -7, -8, and -9 from hhincttl in both files
dfPerson$hhincttl[dfPerson$hhincttl >= -9 & dfPerson$hhincttl <= -7] <- NA
dfHousehold$hhincttl[dfHousehold$hhincttl >= -9 & dfHousehold$hhincttl <= -7] <- NA
#fix sub-zeros
dfPerson$r_age[dfPerson$r_age < 0] <- NA
dfPerson$worker[dfPerson$worker < 0] <- NA
dfPerson$educ[dfPerson$educ < 0] <- NA
dfHousehold$trpmiles[dfHousehold$trpmiles < 0] <- NA
dfPerson
dfHousehold
write_excel_csv(dfPerson, "../Final Project/dfPerson.csv")
write_excel_csv(dfHousehold, "../Final Project/dfHousehold.csv")
